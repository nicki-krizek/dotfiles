#!/bin/bash

# switch between ipv6 on/off at runtime as a workaround for networking issues

IPV6_OFF=$(sysctl net.ipv6.conf.enp0s31f6.disable_ipv6 -n)

if [ $IPV6_OFF -eq 1 ]; then
	# enable IPv6
	lxsudo sysctl -w net.ipv6.conf.enp0s31f6.disable_ipv6=0
	sudo sysctl -w net.ipv6.conf.enp11s0u1u2.disable_ipv6=0
	sudo sysctl -w net.ipv6.conf.wlp2s0.disable_ipv6=0
	sudo sysctl -w net.ipv6.conf.tun0.disable_ipv6=0
else
	# disable IPv6
	lxsudo sysctl -w net.ipv6.conf.enp0s31f6.disable_ipv6=1
	sudo sysctl -w net.ipv6.conf.enp11s0u1u2.disable_ipv6=1
	sudo sysctl -w net.ipv6.conf.wlp2s0.disable_ipv6=1
	sudo sysctl -w net.ipv6.conf.tun0.disable_ipv6=1
fi
